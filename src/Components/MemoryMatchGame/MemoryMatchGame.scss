// MemoryMatchGame.scss

@use "../../styles/_colours.module.scss";
@use "../../styles/_media-queries.module.scss";
@use "../../styles/_variables.module.scss";

html.debug {
	.memory-map-container {
		span {
			border: 1px solid rgba(255, 0, 0, 0.2);
		}
	}
}
$body: #190d23;
$none: rgba(#fff, 0);
$card: #f5e3e3;
$blue: #302e9b;
$red: #b32b28;
$yellow: #bdb725;
$border-radius: 10px;
$transition-time: 10s;
.memory-map-container {
	// background: colours.$panel-back;
	display: grid;
	grid-template-columns: repeat(6, 1fr);
	gap: 0.5rem;
	max-width: 1200px;
	margin: 0 auto;
	padding: 1rem;
	perspective: 2000px;
	.card {
		border-radius: $border-radius;
		// box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
		padding: 10px;
		width: 160px;
		height: 100px;
		// display: flex;
		position: relative;
		text-align: center;
		cursor: pointer;
		border: 1px solid #ccc;
		transform: rotateX(0deg);
		transition:
			transform $transition-time,
			box-shadow $transition-time;
		transform-style: preserve-3d;
		box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.2);
		background-color: white;

		.card-contents-container {
			&:before {
				content: "";
				position: absolute;
				left: 0;
				top: 0;
				width: 100%;
				height: 100%; // transform: translate3d(0, 0, 0.2rem) rotateY(0deg);
				// animation: shadow $transition-time linear;
				backface-visibility: hidden;
				transition: background-color $transition-time;
				background-color: rgba(255, 0, 0, 0.2);
				// z-index: -4;
				border-radius: $border-radius;
			}
			top: 0;
			left: 0;
			border-radius: $border-radius;
			position: absolute;
			backface-visibility: hidden;
			// max-width: 100px;
			// max-height: 100px;
			// transition: transform $transition-time;
			transform: rotateX(180deg);
			// z-index: -1;
			align-items: center;
			justify-content: center;
			width: 100%;
			height: 100%;
			display: flex;
			.card-image-container {
				// max-width: 100px;
				max-height: 100px;
				background-size: cover;
				background-repeat: no-repeat;
				background-position: center center;
				width: calc(100% - 20px);
				height: calc(100% - 20px);
				display: inline-block;
				// transform: rotateX(180deg);
				img {
					display: none;
					// max-width: 100px;
					// max-height: 100px;
				}
			}
		}

		.card-back {
			&:after {
				content: "";
				position: absolute;
				left: 0;
				top: 0;
				width: 100%;
				height: 100%; // transform: translate3d(0, 0, 0.2rem) rotateY(0deg);
				// animation: light 3s linear reverse;
				background-color: green;
				z-index: 4;
				border-radius: $border-radius;
			}
			border-radius: $border-radius;
			position: absolute;
			backface-visibility: hidden;
			// background-color: red; //rgba(255, 0, 0, 0.4);
			top: 0;
			left: 0;
			height: 100%;
			z-index: 1;
			align-items: center;
			justify-content: center;
			width: 100%;
			display: flex;

			$units: 4px;
			// transition: background-color $transition-time;

			box-shadow:
			// 	0 0 0 1rem $blue,
			// 	inset 0 0 0 1rem $blue,
				inset 0 0 0 6px white;
			// border-radius: 1rem;
			// height: 93%;
			// width: 90%;
			// border: 2rem solid $none;
			// background-position: 0.9rem 0.99rem;
			background-image: repeating-linear-gradient(45deg, $none, $none Calc(1 * $units), $blue Calc(1 * $units), $blue Calc(2 * $units)),
				repeating-linear-gradient(-45deg, $none, $none Calc(1 * $units), $blue Calc(1 * $units), $blue Calc(2 * $units));
			span {
				display: none;
			}
		}
		&.flipped {
			transform: rotateX(180deg);
			// animation: shadow $transition-time linear;
			transition:
				transform $transition-time,
				box-shadow $transition-time;
			box-shadow: 2px -2px 2px rgba(0, 0, 0, 0.2);
			&:before {
				// content: "";
				// position: absolute;
				// left: 0;
				// top: 0;
				// width: 100%;
				// height: 100%; // transform: translate3d(0, 0, 0.2rem) rotateY(0deg);
				// animation: shadow $transition-time linear;
				// transition: background-color $transition-time;
				// background-color: red;
				// z-index: 4;
				// border-radius: $border-radius;
			}

			.card-back {
				&:after {
					// content: "";
					// position: absolute;
					// left: 0;
					// top: 0;
					// width: 100%;
					// height: 100%; // transform: translate3d(0, 0, 0.2rem) rotateY(0deg);
					// animation: shadow $transition-time linear;
					// transition: background-color $transition-time;
					// background-color: red;
					// z-index: 4;
					// border-radius: $border-radius;
				}
				// .card-back {
				// 	z-index: -1;
				// }
			}
			.card-contents-container {
				&:after {
					content: "";
					position: absolute;
					left: 0;
					top: 0;
					width: 100%;
					height: 100%; // transform: translate3d(0, 0, 0.2rem) rotateY(0deg);
					// animation: light 3s linear reverse;
					background-color: red;
					z-index: 2;
					border-radius: $border-radius;
				}
				// transform: rotateX(0deg);
				// transition: transform $transition-time;
				z-index: 1;
			}
		}
	}
	@keyframes shadow {
		0% {
			background-color: transparent;
		}
		25% {
			background-color: rgba(0, 0, 0, 0.1);
		}
		50% {
			background-color: rgba(0, 0, 0, 0.2);
		}

		75% {
			background-color: rgba(0, 0, 0, 0.1);
		}
		100% {
			background-color: transparent;
		}
	}
}
